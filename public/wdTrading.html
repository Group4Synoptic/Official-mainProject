<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Water Demands Trading page - ECO4ROWTH" />
  <meta name="keywords" content="Water Management, SDGs, Clean Water, Sustainability" />
  <meta name="author" content="Caetan De Sousa" />
  <title>Water Demands Trading | ECO4ROWTH</title>

  <!-- Main CSS & JS -->
  <link rel="stylesheet" href="css/design.css" /> 
  <script src="js/getData.js" defer></script> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <!-- NAVIGATION BAR -->
  <nav class="nav-wrapper" id="navbar">
    <div class="nav-content">
      <!-- Hamburger always far left -->
      <button id="hamburger" class="hamburger" aria-label="Toggle menu">&#9776;</button>
      <!-- Logo centered -->
      <div class="logo-center">
        <a href="index.html">
          <img src="assets/WhiteFinal.png" alt="Logo" class="logo-image" />
        </a>
      </div>
      <!-- Desktop menu (centered) -->
      <ul class="menu" id="menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">Team</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Our Goals <span class="dropdown-arrow">&#9662;</span></a>
          <div class="dropdown-content">
            <a href="goals.html" class="dropdown-main-link">Our Goals</a>
            <a href="climate.html">Clean Water</a>
            <a href="energy.html">Sustainable Energy</a>
            <a href="hunger.html">Community</a>
          </div>
        </li>
        <li class="dropdown">
          <a href="#" class="active dropdown-toggle">Water Demands <span class="dropdown-arrow">&#9662;</span></a>
          <div class="dropdown-content">
            <a href="WD.html" class="dropdown-main-link">Water Demands</a>
            <a href="wdTrading.html" class="active">Trade Water & Electricity</a>
            <a href="findwd.html">Our Water Reservoirs</a>
          </div>
        </li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <!-- Search bar on the right -->
      <div class="search-container">
        <input type="text" id="search-bar" placeholder="Search..." />
        <button id="search-button">SEARCH</button>
      </div>
    </div>
  </nav>

  <!-- MOBILE FULLSCREEN MENU OVERLAY -->
  <!-- Hamburger/X button is always visible in top left for closing -->
  <div class="menu-overlay">
    <!-- Hamburger/X button for closing the overlay -->
    <button id="close-menu" class="hamburger close-hamburger" aria-label="Close menu"></button>
    <ul class="menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">Team</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle">Our Goals <span class="dropdown-arrow">&#9662;</span></a>
        <!-- Dropdown panel for Our Goals -->
        <div class="dropdown-content">
          <!-- Main link at top, centered -->
          <a href="goals.html" class="dropdown-main-link">Our Goals</a>
          <a href="climate.html">Clean Water</a>
          <a href="energy.html">Sustainable Energy</a>
          <a href="hunger.html">Community</a>
          <!-- Back button styled as menu link -->
          <button class="dropdown-back">← Back</button>
        </div>
      </li>
      <li class="dropdown">
        <a href="#" class="active dropdown-toggle">Water Demands <span class="dropdown-arrow">&#9662;</span></a>
        <!-- Dropdown panel for Water Demands -->
        <div class="dropdown-content">
          <a href="WD.html" class="dropdown-main-link">Water Demands</a>
          <a href="wdTrading.html" class="active">Trade Water & Electricity</a>
          <a href="findwd.html">Our Water Reservoirs</a>
          <button class="dropdown-back">← Back</button>
        </div>
      </li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>

  <!--  MOBILE SEARCH OVERLAY -->
  <div class="search-overlay">
    <input type="text" placeholder="Type to search..." />
  </div>

  <!-- MAIN CONTENT SECTION -->
 <main>
  <!-- Page title for context -->
  <h1 class="auth-title">Request Water or Electricity</h1>
  
  <!-- Container for both forms -->
  <div class="forms-container">
    <!-- Water request form -->
    <form id="water-request-form" autocomplete="off">
      <div class="input-group">
        <label for="litres">Water Amount (litres):</label>
        <input type="number" id="litres" name="litres" min="1" required placeholder="e.g. 100" />
      </div>
      <div class="input-group">
        <label for="urgency">Urgency Level:</label>
        <select id="urgency" name="urgency" required>
          <option value="" disabled selected>Select urgency</option>
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>
      <label for="reservoir-select">Choose Water Source:</label>
      <select id="reservoir-select" name="reservoir_id" required></select>
      <div class="input-group">
        <label for="contact">Contact Info:</label>
        <input type="text" id="contact" name="contact" placeholder="Email or phone" required />
      </div>
      <button type="submit">Submit Request</button>
    </form>

    <!-- Trade form -->
    <form id="trade-form" autocomplete="off">
      <div class="input-group">
        <label for="trade-direction">Trade Direction:</label>
        <select id="trade-direction" required>
          <option value="" disabled selected>Select trade type</option>
          <option value="water_to_electricity">Water → Electricity</option>
          <option value="electricity_to_water">Electricity → Water</option>
        </select>
      </div>

      <div class="input-group">
        <label for="trade-amount">Amount:</label>
        <input type="number" id="trade-amount" min="1" required placeholder="Enter amount (Litres/Watts)" />
      </div>

      <div class="input-group">
        <label for="trade-contact">Contact Info:</label>
        <input type="text" id="trade-contact" required placeholder="Email or phone" />
      </div>

      <div class="input-group">
        <p>You will receive:<span id="trade-result">-</span></p>
      </div>

      <button type="submit">Submit Trade</button>
    </form>
  </div>

  <!-- Current requests section -->
  <div id="current_requests">
    <h2>Current Requests And Trades</h2>
    <ul id="water-requests-list"></ul>
  </div>
</main>

<div id="reservoir-graph-container">
  <canvas id="reservoir-graph" width="600" height="350"></canvas>
</div>

  <!-- FOOTER SECTION -->
  <footer>
    <p>
      © 2025 ECO4ROWTH - Group 4 in partnership with EWB <br /><br />
      <a id="CULink" href="contact.html">Contact us</a>
    </p>
<!-- Accessibility controls: dark mode and font size -->
<div class="accessibility-controls">
  <!-- Dark mode toggle as a slider switch -->
  <label class="switch" aria-label="Toggle dark mode">
    <input type="checkbox" id="toggle-dark" />
    <span class="slider"></span>
    <span class="switch-label">Dark Mode</span>
  </label>
  <!-- Font size controls -->
  <button id="increase-font" aria-label="Increase font size">A+</button>
  <button id="decrease-font" aria-label="Decrease font size">A-</button>
</div>
  </footer>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/requests-and-trades.js"></script>
</body>
</html>
